{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
<section class="flex overflow-hidden relative flex-col items-center px-4 pt-8 pb-4 min-h-screen">
    <img loading="lazy" src="https://cdn.builder.io/api/v1/image/assets/TEMP/2dcf5d9489e98e396168fe824351811316e64c09fb527db12388dce9c09ba3a5?apiKey=8247e33786d041d6ac5b339a992b1663&" alt="" class="object-cover absolute inset-0 w-full h-full" />
    <div class="flex relative flex-col items-center w-full max-w-3xl">

        <h1 class="text-4xl font-semibold text-white">GarageGenius</h1>

        <div class="mt-8 w-full max-w-full">
            {{ form_start(registrationForm, {
                'attr': {
                    'class': 'flex flex-col grow px-6 py-8 w-full text-xl font-semibold text-black bg-white rounded-3xl',
                    'action': path('app_register'),
                    'method': 'POST'
                }
            }) }}

            <h2 class="self-center text-2xl text-center mb-6">Je n'ai pas encore de compte<br />GarageGenius</h2>

            <fieldset class="mb-4">
                <legend>Mon identité</legend>

                <div class="mb-4">
                    <label for="{{ registrationForm.lastname.vars.id }}" class="block">{{ registrationForm.lastname.vars.label }}</label>
                    {{ form_widget(registrationForm.lastname, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Nom',
                            'required': 'required',
                            'autofocus': 'autofocus'
                        }
                    }) }}
                </div>

                <div class="mb-3">
                    <label for="{{ registrationForm.firstname.vars.id }}" class="block">{{ registrationForm.firstname.vars.label }}</label>
                    {{ form_widget(registrationForm.firstname, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Prénom'
                        }
                    }) }}
                </div>

                <div class="mb-4">
                    <label for="{{ registrationForm.email.vars.id }}" class="block">{{ registrationForm.email.vars.label }}</label>
                    {{ form_widget(registrationForm.email, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Email',
                            'required': 'required'
                        }
                    }) }}
                </div>
            </fieldset>

            <fieldset class="mb-4">
                <legend>Mes coordonnées</legend>

                <div class="mb-4">
                    <label for="{{ registrationForm.address.vars.id }}" class="block">{{ registrationForm.address.vars.label }}</label>
                    {{ form_widget(registrationForm.address, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Adresse',
                            'required': 'required'
                        }
                    }) }}
                </div>

                <div class="mb-4">
                    <label for="{{ registrationForm.zipcode.vars.id }}" class="block">{{ registrationForm.zipcode.vars.label }}</label>
                    {{ form_widget(registrationForm.zipcode, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Code postal',
                            'required': 'required'
                        }
                    }) }}
                </div>

                <div class="mb-4">
                    <label for="{{ registrationForm.city.vars.id }}" class="block">{{ registrationForm.city.vars.label }}</label>
                    {{ form_widget(registrationForm.city, {
                        'attr': {
                            'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                            'placeholder': 'Ville',
                            'required': 'required'
                        }
                    }) }}
                </div>
            </fieldset>

            {{ form_row(registrationForm.plainPassword, {
                'label': registrationForm.plainPassword.vars.label,
                'attr': {
                    'class': 'form-control bg-white border border-gray-300 rounded-md w-full py-3.5 px-4 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                    'placeholder': 'Mot de passe',
                    'required': 'required'
                }
            }) }}

            <div class="flex items-center mt-4">
                {{ form_row(registrationForm.RGPDConsent, {
                    'label': registrationForm.RGPDConsent.vars.label,
                    'attr': {
                        'class': 'mr-2',
                    }
                }) }}
                <label for="{{ registrationForm.RGPDConsent.vars.id }}">{{ registrationForm.RGPDConsent.vars.label }}</label>
            </div>

            <button type="submit" class="mt-6 py-3 px-6 text-white rounded-lg bg-blue-600 hover:bg-blue-700">Créer un compte</button>

            {{ form_end(registrationForm) }}

            <p class="mt-8 text-sm text-black">
                Les informations fournies à travers ce formulaire sont collectées avec votre consentement et sont destinées à GarageGenius en sa qualité de responsable du traitement. Elles pourront être transmises à ses sous-traitants agissant sur instructions de GarageGenius ainsi qu’à ses partenaires commerciaux. Dans ce dernier cas, et sous réserve que le partenaire commercial ait signé des accords de confidentialité appropriés, les données pourront être transférées à l'extérieur de votre région. Les données de ce formulaire sont collectées dans le but de gérer la relation client, d'assurer un suivi commercial et de se conformer à la réglementation en vigueur. Les données de votre compte client sont conservées pendant toute la durée de votre relation avec GarageGenius et jusqu'à trente-six (36) mois après sa clôture. Certaines données, telles que les informations de facturation, peuvent être conservées plus longtemps conformément à la réglementation en vigueur. Vous avez le droit de déposer une plainte auprès de l'autorité de protection des données compétente et de demander l'accès, la rectification, la suppression, la limitation, la portabilité et l'opposition à l'utilisation de vos données personnelles pour des motifs légitimes. Pour exercer ces droits, veuillez utiliser notre
                <a href="#" class="underline text-blue-300">formulaire de demande dédié.</a>
            </p>
        </div>
    </div>
</section>
{% endblock %}
